<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXTATION: Lego Disruptive Chain Block Method‚Ñ¢ - Story Mode üöÄ</title>
    <!-- Google Fonts for global typography -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <!--
        INLINE STYLES FOR INITIAL LOAD AND ROBUSTNESS:
        These styles are included directly in the HTML to ensure the core "Batman Computer / Star Wars Console"
        aesthetic is present immediately upon load, even before external CSS might fully parse or if you're
        viewing the raw HTML without a build process. They carefully implement the color variables and design
        specifics from the NEXTATION WEBSITE COLOUR SYSTEM AND USAGE.pdf.
    -->
    <style>
        /* Global Colour Variables and Design Tokens */
        :root {
            --bg-main: #02030b;
            --bg-gradient: radial-gradient(circle at top, #1c1f3b 0%, #050716 45%, #02030b 100%);
            --card-bg: rgba(15, 18, 40, 0.92);
            --card-soft-bg: rgba(18, 21, 50, 0.88);
            --accent-cyan: #4ef2ff;
            --accent-pink: #ff2f92;
            --accent-green: #4dff9b;
            --accent-yello: #ffe25f;
            --accent-purple: #aa5dff;
            --muted: rgba(255,255,255,0.65);
            --border-glow: rgba(120,120,255,0.45);
            --shadow-strong: 0 0 36px rgba(130,80,255,0.6);
            --shadow-soft: 0 0 20px rgba(0,0,0,0.65);
            --radius-lg: 22px;
            --radius-md: 16px;
            --radius-sm: 10px;
            --transition-fast: 0.18s ease-out;
            --transition-med: 0.28s ease-out;

            --tab-normal-bg: radial-gradient(circle at top, rgba(255,255,255,0.09), rgba(7,10,28,0.96));
            --tab-normal-border: rgba(130,140,200,0.4);
            --tab-hover-border-strong: rgba(120,120,255,0.6);
            --tab-hover-shadow: 0 0 20px rgba(120,120,255,0.35);
            --tab-active-bg: radial-gradient(circle at top, rgba(255,255,255,0.15), rgba(21,13,51,0.98));
            --tab-active-border: rgba(103,255,196,0.9);
            --tab-active-shadow: 0 0 24px rgba(79,255,204,0.6);
            --tab-completed-bg: radial-gradient(circle at top, rgba(77,255,155,0.1), rgba(10,30,15,0.96));
            --tab-completed-border: rgba(77,255,155,0.6);
            --tab-completed-shadow: 0 0 15px rgba(77,255,155,0.4);
        }

        /* Base styles for the entire page */
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-main);
            background-image: var(--bg-gradient);
            color: #ffffff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Header styling */
        header {
            background: linear-gradient(to right, rgba(15,18,40,0.95), rgba(6,8,26,0.95));
            padding: 20px 40px;
            border-bottom: 1px solid var(--border-glow);
            box-shadow: var(--shadow-soft);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 20px;
            max-width: 1200px;
            width: 100%;
        }

        .teacher-orb {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at center, var(--accent-cyan) 0%, var(--accent-purple) 60%, transparent 100%);
            border-radius: 50%;
            box-shadow: 0 0 25px var(--accent-cyan), 0 0 40px var(--accent-purple);
            animation: pulse-orb 3s infinite alternate ease-in-out;
            flex-shrink: 0;
        }

        @keyframes pulse-orb {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.08); opacity: 1; }
        }

        .logo-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8em;
            color: var(--accent-cyan);
            text-shadow: 0 0 15px rgba(78,242,255,0.7);
            margin: 0;
            line-height: 1.2;
        }

        .logo-subtitle {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9em;
            color: var(--muted);
            margin: 0;
            text-shadow: 0 0 5px rgba(255,255,255,0.2);
        }

        /* Main application container */
        .main-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        /* Tab navigation styling */
        .tab-navigation {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px 0;
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-strong);
            width: 100%;
            max-width: 1000px;
            box-sizing: border-box;
        }

        .tab-item {
            background: var(--tab-normal-bg);
            border: 1px solid var(--tab-normal-border);
            border-radius: var(--radius-md);
            padding: 12px 20px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1em;
            color: rgba(255,255,255,0.8);
            cursor: pointer;
            transition: all var(--transition-med);
            text-align: center;
            flex-shrink: 0;
            white-space: nowrap;
        }

        .tab-item:hover {
            border-color: var(--tab-hover-border-strong);
            box-shadow: var(--tab-hover-shadow);
            color: var(--accent-cyan);
        }

        .tab-item.active {
            background: var(--tab-active-bg);
            border-color: var(--tab-active-border);
            box-shadow: var(--tab-active-shadow);
            color: var(--accent-green);
            font-weight: bold;
            cursor: default;
        }

        .tab-item.completed {
            background: var(--tab-completed-bg);
            border-color: var(--tab-completed-border);
            box-shadow: var(--tab-completed-shadow);
            color: var(--accent-green);
            position: relative;
        }

        .tab-item.completed::after {
            content: '‚úì';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.7em;
            color: var(--accent-green);
            text-shadow: 0 0 5px rgba(77,255,155,0.7);
        }

        /* Lesson panel styling */
        .lesson-panel {
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: var(--radius-lg);
            padding: 40px;
            box-shadow: var(--shadow-strong);
            width: 100%;
            max-width: 800px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .lesson-panel h2 {
            font-family: 'Space Grotesk', sans-serif;
            color: var(--accent-cyan);
            font-size: 1.8em;
            margin-top: 0;
            text-shadow: 0 0 10px rgba(78,242,255,0.5);
            text-align: center;
            margin-bottom: 25px;
        }

        .lesson-panel h3 {
            font-family: 'Space Grotesk', sans-serif;
            color: var(--accent-yello);
            font-size: 1.4em;
            border-bottom: 1px solid rgba(255,226,95,0.3);
            padding-bottom: 10px;
            margin-top: 30px;
        }

        .lesson-panel p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .lesson-panel .expression-highlight {
            color: var(--accent-pink);
            font-weight: bold;
            text-shadow: 0 0 8px rgba(255,47,146,0.7);
        }

        .story-section, .exercise-section {
            background: var(--card-soft-bg);
            border: 1px solid rgba(120,120,255,0.45);
            border-radius: var(--radius-md);
            padding: 20px;
            box-shadow: 0 0 15px rgba(0,0,0,0.4);
        }

        .separator {
            width: 80%;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--border-glow), transparent);
            margin: 30px auto;
        }

        /* Exercise specific styles */
        .exercise-section .options label {
            display: block;
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: var(--radius-sm);
            padding: 12px 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exercise-section .options label:hover {
            background: rgba(255,255,255,0.15);
            border-color: var(--accent-cyan);
        }

        .exercise-section .options input[type="radio"] {
            margin-right: 8px;
            accent-color: var(--accent-green); /* Style radio button itself */
        }

        .exercise-section button {
            background: linear-gradient(45deg, var(--accent-pink), var(--accent-purple));
            border: none;
            border-radius: var(--radius-md);
            padding: 12px 25px;
            color: #ffffff;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all var(--transition-fast);
            box-shadow: 0 0 15px rgba(255,47,146,0.5);
        }

        .exercise-section button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(255,47,146,0.8);
        }

        .exercise-section .explanation {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-glow);
            border-radius: var(--radius-sm);
            color: rgba(255,255,255,0.9);
        }

        .exercise-section .options label.correct {
            background: rgba(77,255,155,0.2);
            border-color: var(--accent-green);
            box-shadow: 0 0 10px rgba(77,255,155,0.5);
        }

        .exercise-section .options label.incorrect {
            background: rgba(255,47,146,0.2);
            border-color: var(--accent-pink);
            box-shadow: 0 0 10px rgba(255,47,146,0.5);
        }

        /* Footer styling */
        footer {
            background: linear-gradient(to right, rgba(15,18,40,0.95), rgba(6,8,26,0.95));
            padding: 20px 40px;
            border-top: 1px solid var(--border-glow);
            box-shadow: var(--shadow-soft);
            text-align: center;
            font-size: 0.85em;
            color: var(--muted);
            margin-top: auto; /* Pushes footer to the bottom */
        }

        footer span {
            color: var(--accent-pink);
        }

        .highlight-name {
            color: var(--accent-cyan);
            font-weight: bold;
            text-shadow: 0 0 5px rgba(78,242,255,0.5);
        }
    </style>
</head>
<body>
    <!-- HEADER SECTION -->
    <header>
        <div class="header-content">
            <div class="teacher-orb"></div>
            <div>
                <h1 class="logo-title">Daby's Lego Disruptive Chain Block Method‚Ñ¢ üß†</h1>
                <p class="logo-subtitle">Thinking simulator for English mastery üöÄ</p>
            </div>
        </div>
    </header>

    <!-- MAIN APPLICATION CONTAINER -->
    <div class="main-container">
        <!-- TAB NAVIGATION -->
        <nav class="tab-navigation" id="tab-navigation">
            <!-- Tabs will be dynamically inserted here by JavaScript -->
        </nav>

        <!-- LESSON PANEL - This is where content will be dynamically loaded -->
        <section class="lesson-panel">
            <h2 id="lesson-title">Welcome to NEXTATION! ‚ú®</h2>
            <div id="lesson-content">
                <p>
                    üö® Esta √© a plataforma imersiva que vai mudar a sua forma de se comunicar em ingl√™s. Aqui, voc√™ n√£o vai apenas **aprender**; voc√™ vai **cair de cabe√ßa** nas situa√ß√µes reais e **pensar como um nativo** antes mesmo de falar.
                </p>
                <p>
                    üß† Esque√ßa as aulas chatas de gram√°tica! Focamos em te ensinar o **julgamento**, o **timing**, o **tom** e a **escolha** de palavras, exatamente como um nativo faz. Cada "tab" (situa√ß√£o) √© um novo desafio da vida real.
                </p>
                <p>
                    Clique em uma das situa√ß√µes acima para come√ßar sua jornada e transformar seu ingl√™s! üëá
                </p>
                <p style="margin-top: 25px; font-weight: bold; color: var(--accent-green); text-shadow: 0 0 8px #4dff9b;">
                    Let's make you think in English, not translate! üéØ
                </p>
                <div class="separator"></div>
                <p style="font-size: 0.9em; text-align: center; color: var(--muted);">
                    *(The specific content for each lesson, like "Hist√≥ria em Portugu√™s," "Story in English," and exercises, will load here dynamically when you click a tab. This is just a welcome placeholder.)*
                </p>
            </div>
        </section>
    </div>

    <!-- FOOTER SECTION -->
    <footer>
        <p>&copy; 2026 Crafted with <span>&#10084;</span> by <span class="highlight-name">Daby</span>. All rights reserved.</p>
        <p>Powered by the üß† Lego Disruptive Chain Block Method‚Ñ¢.</p>
    </footer>

    <!-- JAVASCRIPT FOR DYNAMIC CONTENT AND TAB MANAGEMENT -->
    <script>
        const lessons = [
            {
                id: 'situation-1',
                tabTitle: 'Situation 1 üó£Ô∏è',
                expression: 'What can I get you?',
                story_pt: `
                    <h4>Na Padaria do Seu Jo√£o ü•ê</h4>
                    <p>Maria entra na padaria do Seu Jo√£o, um lugar que ela adora. O cheiro de p√£o fresco enche o ar. Seu Jo√£o, sempre atencioso, v√™ Maria se aproximar do balc√£o.</p>
                    <p>Dona L√∫cia, com sua voz amig√°vel, pergunta: <span class="expression-highlight">"O que o Sr vai querer hoje?"</span></p>
                    <p>Maria sorri: "Um p√£o de queijo e um caf√©, por favor!"</p>
                `,
                story_en: `
                    <h4>At Mr. Jo√£o's Bakery ü•ê</h4>
                    <p>Maria enters Mr. Jo√£o's bakery, a place she loves. The smell of fresh bread fills the air. Mr. Jo√£o, always attentive, sees Maria approach the counter.</p>
                    <p>Dona L√∫cia, with her friendly voice, asks: <span class="expression-highlight">"What can I get you?"</span></p>
                    <p>Maria smiles: "A cheese bread and a coffee, please!"</p>
                `,
                english_situation: `
                    <p>You are working in a service role (e.g., barista, waiter, shop assistant) and want to politely ask a customer what they would like to order or how you can assist them. It's a standard, polite way to initiate service. ‚òï</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ √© um barista. Um cliente se aproxima do balc√£o. Qual a melhor forma de iniciar o atendimento?</p>
                    `,
                    options: [
                        { text: 'A) "Do you want something?"', isCorrect: false },
                        { text: 'B) "What do you need?"', isCorrect: false },
                        { text: 'C) "What can I get you?"', isCorrect: true }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "What can I get you?" √© a forma mais comum e educada de oferecer servi√ßo em ingl√™s, especialmente em restaurantes ou lojas. üõéÔ∏è</p>
                    `
                }
            },
            {
                id: 'situation-2',
                tabTitle: 'Situation 2 üçΩÔ∏è',
                expression: 'I will have...',
                story_pt: `
                    <h4>No Restaurante Italiano üçù</h4>
                    <p>Pedro e Ana est√£o em um restaurante italiano aconchegante. O gar√ßom se aproxima para anotar os pedidos. Ana ainda est√° indecisa, mas Pedro j√° sabe o que quer.</p>
                    <p>O gar√ßom pergunta: "O que o senhor vai querer?"</p>
                    <p>Pedro responde com confian√ßa: <span class="expression-highlight">"Eu vou querer a lasanha √† bolonhesa, por favor."</span></p>
                    <p>Ana, ent√£o, decide: "Para mim, a pizza de quatro queijos."</p>
                `,
                story_en: `
                    <h4>At the Italian Restaurant üçù</h4>
                    <p>Pedro and Ana are at a cozy Italian restaurant. The waiter approaches to take their orders. Ana is still undecided, but Pedro already knows what he wants.</p>
                    <p>The waiter asks: "What will you have?"</p>
                    <p>Pedro confidently replies: <span class="expression-highlight">"I will have the lasagna bolognese, please."</span></p>
                    <p>Ana then decides: "For me, the four-cheese pizza."</p>
                `,
                english_situation: `
                    <p>You are ordering food or drinks at a restaurant, caf√©, or bar. This phrase is a polite and common way to state your choice to the server. ü•Ç</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ est√° em um caf√© e quer pedir um cappuccino. Como voc√™ faz o pedido?</p>
                    `,
                    options: [
                        { text: 'A) "I want a cappuccino."', isCorrect: false },
                        { text: 'B) "I will have a cappuccino."', isCorrect: true },
                        { text: 'C) "Give me a cappuccino."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "I will have..." √© a forma mais educada e natural de fazer um pedido em um ambiente de servi√ßo. "I want" pode soar um pouco direto demais. ‚òï</p>
                    `
                }
            },
            {
                id: 'situation-3',
                tabTitle: 'Situation 3 üìû',
                expression: 'Can you hear me?',
                story_pt: `
                    <h4>A Chamada de V√≠deo Travando üì∂</h4>
                    <p>Carla est√° em uma importante chamada de v√≠deo com seu chefe, mas a conex√£o de internet est√° inst√°vel. A imagem congela e o √°udio falha. Ela tenta se comunicar, mas n√£o tem certeza se est√° sendo ouvida.</p>
                    <p>Com um pouco de frustra√ß√£o, ela pergunta: <span class="expression-highlight">"Voc√™ consegue me ouvir? Minha internet est√° falhando."</span></p>
                    <p>O chefe responde: "Sim, agora sim! O que voc√™ estava dizendo?"</p>
                `,
                story_en: `
                    <h4>The Freezing Video Call üì∂</h4>
                    <p>Carla is on an important video call with her boss, but the internet connection is unstable. The image freezes and the audio cuts out. She tries to communicate, but isn't sure if she's being heard.</p>
                    <p>With a bit of frustration, she asks: <span class="expression-highlight">"Can you hear me? My internet is acting up."</span></p>
                    <p>Her boss replies: "Yes, now I can! What were you saying?"</p>
                `,
                english_situation: `
                    <p>You are on a phone call or video conference and suspect there might be an audio issue. You use this phrase to confirm if the other person can hear your voice clearly. üó£Ô∏è</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ est√° em uma liga√ß√£o e a voz da outra pessoa est√° cortando. Como voc√™ pergunta se ela pode te ouvir?</p>
                    `,
                    options: [
                        { text: 'A) "Do you hear me?"', isCorrect: false },
                        { text: 'B) "Are you hearing me?"', isCorrect: false },
                        { text: 'C) "Can you hear me?"', isCorrect: true }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "Can you hear me?" √© a forma padr√£o e correta de perguntar sobre a audibilidade em uma liga√ß√£o. üëÇ</p>
                    `
                }
            },
            {
                id: 'situation-4',
                tabTitle: 'Situation 4 üîä',
                expression: 'Loud and clear',
                story_pt: `
                    <h4>A Comunica√ß√£o no Evento üé§</h4>
                    <p>No meio de um evento barulhento, o organizador, Marcos, est√° testando o microfone. Ele fala algumas palavras para a equipe de som, que est√° do outro lado do sal√£o. O som est√° perfeito.</p>
                    <p>Marcos pergunta: "Voc√™s me ouvem bem?"</p>
                    <p>A equipe responde em un√≠ssono: <span class="expression-highlight">"Sim, estou escutando!"</span></p>
                    <p>Marcos sorri, satisfeito: "√ìtimo, podemos come√ßar!"</p>
                `,
                story_en: `
                    <h4>Communication at the Event üé§</h4>
                    <p>In the middle of a noisy event, the organizer, Marcos, is testing the microphone. He speaks a few words to the sound crew, who are across the hall. The sound is perfect.</p>
                    <p>Marcos asks: "Can you hear me well?"</p>
                    <p>The crew replies in unison: <span class="expression-highlight">"Loud and clear!"</span></p>
                    <p>Marcos smiles, satisfied: "Great, we can start!"</p>
                `,
                english_situation: `
                    <p>Someone asks if you can hear them, especially in a situation where there might be interference or distance. You use this phrase to confirm that you can hear them perfectly, without any issues. ‚úÖ</p>
                `,
                exercise: {
                    question: `
                        <p>Seu amigo est√° te ligando de um lugar com muito vento e pergunta: "Can you hear me okay?" Voc√™ o ouve perfeitamente.</p>
                        <p>Qual a melhor resposta?</p>
                    `,
                    options: [
                        { text: 'A) "Yes, I hear you good."', isCorrect: false },
                        { text: 'B) "Loud and clear!"', isCorrect: true },
                        { text: 'C) "I can hear you very well."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "Loud and clear" √© uma express√£o idiom√°tica que significa que a comunica√ß√£o est√° perfeita, sem ru√≠dos ou dificuldades. üåü</p>
                    `
                }
            },
            {
                id: 'situation-5',
                tabTitle: 'Situation 5 üçπ',
                expression: 'Fancy a drink?',
                story_pt: `
                    <h4>No Happy Hour P√≥s-Trabalho üçª</h4>
                    <p>Ap√≥s um longo dia de trabalho, Ana e seu colega Lucas est√£o saindo do escrit√≥rio. O clima est√° leve e eles sentem que merecem um momento de relaxamento. Lucas vira-se para Ana com um sorriso.</p>
                    <p>Ele pergunta: <span class="expression-highlight">"Que tal uma bebida para relaxar?"</span></p>
                    <p>Ana responde animada: "Com certeza! Conhe√ßo um bar novo aqui perto."</p>
                `,
                story_en: `
                    <h4>At the Post-Work Happy Hour üçª</h4>
                    <p>After a long day at work, Ana and her colleague Lucas are leaving the office. The mood is light, and they feel they deserve a moment of relaxation. Lucas turns to Ana with a smile.</p>
                    <p>He asks: <span class="expression-highlight">"Fancy a drink to unwind?"</span></p>
                    <p>Ana replies enthusiastically: "Absolutely! I know a new bar nearby."</p>
                `,
                english_situation: `
                    <p>You want to casually invite someone to have an alcoholic or non-alcoholic beverage, often in a social setting. It's a friendly and informal way to suggest getting a drink together. ü•Ç</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ encontra um amigo no parque em um dia quente. Voc√™ quer convid√°-lo para tomar algo refrescante.</p>
                        <p>Qual a melhor forma de perguntar?</p>
                    `,
                    options: [
                        { text: 'A) "Do you want a drink?"', isCorrect: false },
                        { text: 'B) "Fancy a drink?"', isCorrect: true },
                        { text: 'C) "Would you like to drink?"', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "Fancy a drink?" √© uma forma mais informal e convidativa, muito comum no ingl√™s brit√¢nico e tamb√©m compreendida no americano, para sugerir uma bebida. ü•§</p>
                    `
                }
            },
            {
                id: 'situation-6',
                tabTitle: 'Situation 6 üçî',
                expression: 'Fancy something to eat?',
                story_pt: `
                    <h4>A Fome no Meio da Tarde üçï</h4>
                    <p>√â meio da tarde e Jo√£o e sua irm√£, Sofia, est√£o assistindo a um filme em casa. De repente, a barriga de Jo√£o ronca alto. Sofia percebe e decide que √© hora de um lanche.</p>
                    <p>Ela pergunta a Jo√£o: <span class="expression-highlight">"Que tal algo para comer?"</span></p>
                    <p>Jo√£o, com os olhos no filme, responde: "Sim! Estou morrendo de fome!"</p>
                `,
                story_en: `
                    <h4>Mid-Afternoon Hunger üçï</h4>
                    <p>It's mid-afternoon, and Jo√£o and his sister, Sofia, are watching a movie at home. Suddenly, Jo√£o's stomach rumbles loudly. Sofia notices and decides it's time for a snack.</p>
                    <p>She asks Jo√£o: <span class="expression-highlight">"Fancy something to eat?"</span></p>
                    <p>Jo√£o, with his eyes still on the movie, replies: "Yes! I'm starving!"</p>
                `,
                english_situation: `
                    <p>You want to casually offer food to someone, or suggest getting something to eat, often in an informal setting. It's a friendly way to check if someone is hungry. üçü</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ e seus amigos est√£o jogando videogame h√° horas. Voc√™ percebe que todos est√£o com fome.</p>
                        <p>Como voc√™ sugere uma pausa para comer?</p>
                    `,
                    options: [
                        { text: 'A) "Do you want to eat?"', isCorrect: false },
                        { text: 'B) "Fancy something to eat?"', isCorrect: true },
                        { text: 'C) "Let\'s eat something."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> Similar a "Fancy a drink?", "Fancy something to eat?" √© uma forma casual e convidativa de oferecer ou sugerir comida. ü•™</p>
                    `
                }
            },
            {
                id: 'situation-7',
                tabTitle: 'Situation 7 üö∂‚Äç‚ôÄÔ∏è',
                expression: 'After you',
                story_pt: `
                    <h4>A Porta do Escrit√≥rio üö™</h4>
                    <p>Rafael e sua colega de trabalho, Camila, chegam √† porta do escrit√≥rio ao mesmo tempo. Rafael, sendo cavalheiro, gesticula para que ela passe primeiro. Camila aprecia o gesto.</p>
                    <p>Ela sorri para Rafael e diz: <span class="expression-highlight">"Voc√™ primeiro, meu caro."</span></p>
                    <p>Rafael agradece e segura a porta para ela.</p>
                `,
                story_en: `
                    <h4>The Office Door üö™</h4>
                    <p>Rafael and his colleague, Camila, arrive at the office door at the same time. Rafael, being a gentleman, gestures for her to go first. Camila appreciates the gesture.</p>
                    <p>She smiles at Rafael and says: <span class="expression-highlight">"After you, my dear."</span></p>
                    <p>Rafael thanks her and holds the door open for her.</p>
                `,
                english_situation: `
                    <p>You are at a doorway, elevator, or narrow passage with another person, and you want to politely indicate that they should go first. It's a common phrase of courtesy. üôè</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ e um estranho chegam √† porta de um elevador ao mesmo tempo. Voc√™ quer ser educado e deix√°-lo ir primeiro.</p>
                        <p>O que voc√™ diz?</p>
                    `,
                    options: [
                        { text: 'A) "Go first."', isCorrect: false },
                        { text: 'B) "You go."', isCorrect: false },
                        { text: 'C) "After you."', isCorrect: true }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "After you" √© a express√£o padr√£o e mais educada para ceder a passagem a algu√©m. üö∂‚Äç‚ôÇÔ∏è</p>
                    `
                }
            },
            {
                id: 'situation-8',
                tabTitle: 'Situation 8 ‚è∞',
                expression: 'I am running late',
                story_pt: `
                    <h4>O Engarrafamento Inesperado üö¶</h4>
                    <p>Patr√≠cia est√° a caminho de um importante compromisso, mas o tr√¢nsito na Marginal Pinheiros est√° parado. Ela olha para o rel√≥gio e percebe que n√£o vai chegar a tempo. Rapidamente, pega o celular para avisar.</p>
                    <p>Ela liga para a pessoa e diz, com a voz um pouco apressada: <span class="expression-highlight">"Estou atrasada, o tr√¢nsito est√° horr√≠vel!"</span></p>
                    <p>Do outro lado, a pessoa responde: "Sem problemas, dirija com cuidado."</p>
                `,
                story_en: `
                    <h4>The Unexpected Traffic Jam üö¶</h4>
                    <p>Patr√≠cia is on her way to an important appointment, but traffic on Marginal Pinheiros is at a standstill. She looks at her watch and realizes she won't make it on time. Quickly, she grabs her phone to notify.</p>
                    <p>She calls the person and says, with a slightly hurried voice: <span class="expression-highlight">"I am running late, the traffic is terrible!"</span></p>
                    <p>On the other end, the person replies: "No problem, drive safely."</p>
                `,
                english_situation: `
                    <p>You are delayed and will not arrive at an appointment, meeting, or event at the scheduled time. This phrase is used to inform someone that you will be late. ‚è≥</p>
                `,
                exercise: {
                    question: `
                        <p>Voc√™ tem uma reuni√£o importante em 10 minutos, mas seu √¥nibus est√° preso no tr√¢nsito. Voc√™ precisa avisar seu chefe.</p>
                        <p>O que voc√™ diz?</p>
                    `,
                    options: [
                        { text: 'A) "I will be late."', isCorrect: false },
                        { text: 'B) "I am running late."', isCorrect: true },
                        { text: 'C) "I am late."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "I am running late" √© a express√£o mais natural e comum para indicar que voc√™ est√° atrasado ou que vai se atrasar para algo. "I am late" geralmente se refere a j√° ter perdido o prazo. üèÉ‚Äç‚ôÄÔ∏è</p>
                    `
                }
            },
            {
                id: 'situation-9',
                tabTitle: 'Situation 9 ‚òï',
                expression: 'How about I make some tea?',
                story_pt: `
                    <h4>Uma Tarde Fria de Estudos üìö</h4>
                    <p>Em uma tarde fria de inverno, Maria e Pedro est√£o estudando para uma prova na sala de estar de Maria. Pedro parece um pouco cabisbaixo e com frio. Maria percebe o desconforto dele.</p>
                    <p>Com um gesto gentil, ela se levanta e pergunta: <span class="expression-highlight">"Que tal eu fazer um ch√° para a gente, Pedro? Para esquentar um pouco."</span></p>
                    <p>Pedro sorri, aliviado: "Ah, Maria, seria perfeito! Muito obrigado!"</p>
                `,
                story_en: `
                    <h4>A Cold Study Afternoon üìö</h4>
                    <p>On a cold winter afternoon, Maria and Pedro are studying for an exam in Maria's living room. Pedro seems a bit down and cold. Maria notices his discomfort.</p>
                    <p>With a kind gesture, she stands up and asks: <span class="expression-highlight">"How about I make some tea for us, Pedro? To warm us up a bit."</span></p>
                    <p>Pedro smiles, relieved: "Oh, Maria, that would be perfect! Thank you so much!"</p>
                `,
                english_situation: `
                    <p>You want to politely offer to prepare a warm beverage, like tea or coffee, for someone, especially if they seem cold or tired. üçµ</p>
                `,
                exercise: {
                    question: `
                        <p>Seu colega de trabalho parece estressado. Voc√™ quer oferecer para fazer um caf√© para ele.</p>
                        <p>Qual a melhor forma de oferecer?</p>
                    `,
                    options: [
                        { text: 'A) "Do you want coffee?"', isCorrect: false },
                        { text: 'B) "How about I make some coffee?"', isCorrect: true },
                        { text: 'C) "I will make coffee for you."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "How about I make some coffee?" √© uma forma gentil e convidativa de oferecer algo, mais natural do que uma pergunta direta ou uma afirma√ß√£o. ‚òï</p>
                    `
                }
            },
            {
                id: 'situation-10',
                tabTitle: 'Situation 10 üöá',
                expression: 'I commute to work by...',
                story_pt: `
                    <h4>A Nova Rotina de Trabalho üèôÔ∏è</h4>
                    <p>Ricardo acabou de se mudar para S√£o Paulo e come√ßou um novo emprego. No primeiro dia, durante o almo√ßo, um colega pergunta sobre sua nova rotina. Ricardo explica que ainda est√° se adaptando ao tr√¢nsito da cidade.</p>
                    <p>Ele diz: <span class="expression-highlight">"Eu vou para o trabalho de metr√¥. √â a forma mais r√°pida de evitar o engarrafamento."</span></p>
                    <p>O colega concorda: "Sim, o metr√¥ √© a melhor op√ß√£o por aqui!"</p>
                `,
                story_en: `
                    <h4>The New Work Routine üèôÔ∏è</h4>
                    <p>Ricardo has just moved to S√£o Paulo and started a new job. On his first day, during lunch, a colleague asks about his new routine. Ricardo explains that he is still adapting to the city's traffic.</p>
                    <p>He says: <span class="expression-highlight">"I commute to work by subway. It's the fastest way to avoid traffic jams."</span></p>
                    <p>The colleague agrees: "Yes, the subway is the best option around here!"</p>
                `,
                english_situation: `
                    <p>Someone asks you about your daily travel method to work or school. You want to explain how you regularly get there. üöå</p>
                `,
                exercise: {
                    question: `
                        <p>Um novo colega de trabalho pergunta: "How do you get to work?" Voc√™ vai de √¥nibus todos os dias.</p>
                        <p>Como voc√™ responde?</p>
                    `,
                    options: [
                        { text: 'A) "I go to work with bus."', isCorrect: false },
                        { text: 'B) "I commute to work by bus."', isCorrect: true },
                        { text: 'C) "I take bus to work."', isCorrect: false }
                    ],
                    explanation: `
                        <p><strong style="color: var(--accent-yello);">Por qu√™?</strong> "I commute to work by bus" √© a forma mais natural e idiom√°tica. "Commute" implica uma viagem regular, e "by" √© a preposi√ß√£o correta para meios de transporte. üöá</p>
                    `
                }
            }
        ];

        let currentLessonIndex = -1;
        let activeTabElement = null;

        function renderLesson(lessonIndex) {
            const lesson = lessons[lessonIndex];
            const lessonContentDiv = document.getElementById('lesson-content');
            const lessonTitleH2 = document.getElementById('lesson-title');

            lessonTitleH2.innerHTML = `üîπ ${lesson.tabTitle} ‚Äî <span style="color: var(--accent-yello);">${lesson.expression}</span>`;
            lessonContentDiv.innerHTML = ''; // Clear previous content

            // Story in Portuguese
            lessonContentDiv.innerHTML += `
                <h3 style="color: var(--accent-cyan); text-shadow: 0 0 8px rgba(78,242,255,0.5);">Hist√≥ria em Portugu√™s üáßüá∑</h3>
                <div class="story-section">
                    ${lesson.story_pt}
                </div>
                <div class="separator"></div>
            `;

            // Story in English
            lessonContentDiv.innerHTML += `
                <h3 style="color: var(--accent-cyan); text-shadow: 0 0 8px rgba(78,242,255,0.5);">Story in English üá∫üá∏üá¨üáß</h3>
                <div class="story-section">
                    ${lesson.story_en}
                </div>
                <div class="separator"></div>
            `;

            // Real-feeling English Situation
            lessonContentDiv.innerHTML += `
                <h3 style="color: var(--accent-cyan); text-shadow: 0 0 8px rgba(78,242,255,0.5);">Real-Feeling English Situation üí°</h3>
                <div class="story-section">
                    ${lesson.english_situation}
                </div>
                <div class="separator"></div>
            `;

            // Quick Exercise
            lessonContentDiv.innerHTML += `
                <h3 style="color: var(--accent-yello); text-shadow: 0 0 8px rgba(255,226,95,0.5);">Quick Exercise ‚úÖ</h3>
                <div class="exercise-section">
                    ${lesson.exercise.question}
                    <div class="options" id="exercise-options-${lessonIndex}">
                        ${lesson.exercise.options.map((option, idx) => `
                            <label>
                                <input type="radio" name="exercise-q-${lessonIndex}" value="${idx}" data-correct="${option.isCorrect}">
                                ${option.text}
                            </label>
                        `).join('')}
                    </div>
                    <button onclick="checkExerciseAnswer(${lessonIndex})">CHECK ANSWER</button>
                    <div class="explanation" id="exercise-explanation-${lessonIndex}" style="display: none;">
                        ${lesson.exercise.explanation}
                    </div>
                </div>
            `;
        }

        function checkExerciseAnswer(lessonIndex) {
            const optionsDiv = document.getElementById(`exercise-options-${lessonIndex}`);
            const explanationDiv = document.getElementById(`exercise-explanation-${lessonIndex}`);
            const radios = optionsDiv.querySelectorAll('input[type="radio"]');
            let selectedCorrect = false;

            radios.forEach(radio => {
                const label = radio.closest('label');
                label.classList.remove('correct', 'incorrect');
                if (radio.checked) {
                    if (radio.dataset.correct === 'true') {
                        label.classList.add('correct');
                        selectedCorrect = true;
                    } else {
                        label.classList.add('incorrect');
                    }
                }
            });

            explanationDiv.style.display = 'block';

            if (selectedCorrect && currentLessonIndex !== -1) {
                const tabElement = document.querySelector(`.tab-item[data-lesson-id="${lessons[currentLessonIndex].id}"]`);
                if (tabElement && !tabElement.classList.contains('completed')) {
                    tabElement.classList.add('completed');
                }
            }
        }

        function setActiveTab(tabElement, lessonIndex) {
            if (activeTabElement) {
                activeTabElement.classList.remove('active');
            }
            tabElement.classList.add('active');
            activeTabElement = tabElement;
            currentLessonIndex = lessonIndex;
            renderLesson(lessonIndex);
        }

        // Initialize tabs
        document.addEventListener('DOMContentLoaded', () => {
            const tabNavigation = document.getElementById('tab-navigation');
            lessons.forEach((lesson, index) => {
                const tabItem = document.createElement('div');
                tabItem.classList.add('tab-item');
                tabItem.textContent = lesson.tabTitle;
                tabItem.dataset.lessonId = lesson.id;
                tabItem.addEventListener('click', () => setActiveTab(tabItem, index));
                tabNavigation.appendChild(tabItem);
            });

            // Set initial active tab (Situation 1)
            if (lessons.length > 0) {
                const firstTab = tabNavigation.querySelector('.tab-item');
                if (firstTab) {
                    setActiveTab(firstTab, 0);
                }
            }
        });
    </script>
</body>
</html>
